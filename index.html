<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>FruitBall Mobile</title>
    <style>
        body, html { 
            margin: 0; padding: 0; width: 100%; height: 100%; 
            position: fixed; overflow: hidden; background: #2c3e50; font-family: sans-serif;
        }
        #game-ui {
            position: absolute; width: 100%; text-align: center;
            color: white; font-size: 24px; font-weight: bold; top: 20px;
            pointer-events: none;
        }
        canvas { 
            display: block; background: #27ae60; /* Grass color */
            width: 100vw; height: 100vh; touch-action: none;
        }
    </style>
</head>
<body>

    <div id="game-ui">SCORE: <span id="score">0</span></div>
    <canvas id="gameCanvas"></canvas>

<script>
    const canvas = document.getElementById('gameCanvas');
    const ctx = canvas.getContext('2d');
    const scoreEl = document.getElementById('score');

    // Game Variables
    let score = 0;
    let gameActive = true;
    
    // Set Canvas Size
    function resize() {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
    }
    window.addEventListener('resize', resize);
    resize();

    // Fruit (Ball) Object
    const fruit = {
        x: canvas.width / 2,
        y: canvas.height / 2,
        radius: 15,
        dx: 4,
        dy: -4,
        emoji: "ðŸŽ"
    };

    // Paddle Object
    const paddle = {
        width: 100,
        height: 15,
        x: (canvas.width - 100) / 2,
        color: "#f1c40f"
    };

    // Touch Control
    window.addEventListener('touchmove', (e) => {
        const touchX = e.touches[0].clientX;
        paddle.x = touchX - paddle.width / 2;
        
        // Keep paddle on screen
        if(paddle.x < 0) paddle.x = 0;
        if(paddle.x + paddle.width > canvas.width) paddle.x = canvas.width - paddle.width;
        e.preventDefault();
    }, {passive: false});

    function draw() {
        if(!gameActive) return;

        // Clear Screen
        ctx.clearRect(0, 0, canvas.width, canvas.height);

        // Draw Paddle
        ctx.fillStyle = paddle.color;
        ctx.fillRect(paddle.x, canvas.height - 40, paddle.width, paddle.height);

        // Draw Fruit
        ctx.font = "30px serif";
        ctx.textAlign = "center";
        ctx.textBaseline = "middle";
        ctx.fillText(fruit.emoji, fruit.x, fruit.y);

        // Fruit Movement
        fruit.x += fruit.dx;
        fruit.y += fruit.dy;

        // Wall Bouncing (Left/Right)
        if(fruit.x + fruit.radius > canvas.width || fruit.x - fruit.radius < 0) {
            fruit.dx *= -1;
        }

        // Ceiling Bouncing
        if(fruit.y - fruit.radius < 0) {
            fruit.dy *= -1;
        }

        // Paddle Collision
        if(fruit.y + fruit.radius > canvas.height - 40 && 
           fruit.x > paddle.x && 
           fruit.x < paddle.x + paddle.width) {
            fruit.dy = -Math.abs(fruit.dy); // Force upward
            fruit.dy *= 1.05; // Speed up slightly
            fruit.dx *= 1.05;
            score++;
            scoreEl.innerText = score;
            
            // Change Fruit randomly on bounce
            const fruits = ["ðŸŽ", "ðŸŠ", "ðŸ‹", "ðŸ’", "ðŸ‰", "ðŸ‡"];
            fruit.emoji = fruits[Math.floor(Math.random() * fruits.length)];
        }

        // Game Over
        if(fruit.y + fruit.radius > canvas.height) {
            alert("GAME OVER! Final Score: " + score);
            document.location.reload();
            gameActive = false;
        }

        requestAnimationFrame(draw);
    }

    draw();
</script>
</body>
</html>
