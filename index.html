<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>FruitBall: JUICED</title>
    <style>
        body, html { margin: 0; padding: 0; width: 100%; height: 100%; position: fixed; overflow: hidden; background: #1a1a1a; font-family: 'Arial Black', sans-serif; }
        #ui { position: absolute; width: 100%; top: 20px; color: white; text-align: center; pointer-events: none; text-shadow: 2px 2px #000; }
        #combo { font-size: 40px; color: #f1c40f; display: none; animation: pop 0.3s ease; }
        @keyframes pop { 0% { transform: scale(0.5); } 100% { transform: scale(1.2); } }
        canvas { display: block; background: radial-gradient(circle, #27ae60, #1e8449); touch-action: none; }
    </style>
</head>
<body>
    <div id="ui">
        <div style="font-size: 20px;">SCORE: <span id="score">0</span></div>
        <div id="combo">COMBO x2!</div>
    </div>
    <canvas id="c"></canvas>

<script>
    const canvas = document.getElementById('c');
    const ctx = canvas.getContext('2d');
    const scoreEl = document.getElementById('score');
    const comboEl = document.getElementById('combo');

    let score = 0, combo = 0, shake = 0;
    let particles = [];

    function resize() { canvas.width = window.innerWidth; canvas.height = window.innerHeight; }
    window.addEventListener('resize', resize);
    resize();

    const ball = { x: 200, y: 200, r: 20, dx: 5, dy: 5, e: "ðŸŽ" };
    const paddle = { w: 120, h: 20, x: 0 };

    window.addEventListener('touchmove', (e) => {
        paddle.x = e.touches[0].clientX - paddle.w/2;
    }, {passive: false});

    function createParticles(x, y) {
        for(let i=0; i<8; i++) {
            particles.push({x, y, dx: (Math.random()-0.5)*10, dy: (Math.random()-0.5)*10, life: 20});
        }
    }

    function update() {
        ctx.save();
        if(shake > 0) {
            ctx.translate(Math.random()*shake - shake/2, Math.random()*shake - shake/2);
            shake *= 0.9;
        }

        ctx.clearRect(-100, -100, canvas.width+200, canvas.height+200);

        // Draw Paddle
        ctx.fillStyle = "#fff";
        ctx.shadowBlur = 20; ctx.shadowColor = "#fff";
        ctx.fillRect(paddle.x, canvas.height - 60, paddle.w, paddle.h);
        ctx.shadowBlur = 0;

        // Draw Ball
        ctx.font = "40px serif";
        ctx.fillText(ball.e, ball.x - 20, ball.y + 15);

        // Draw Particles
        particles.forEach((p, i) => {
            p.x += p.dx; p.y += p.dy; p.life--;
            ctx.fillStyle = `rgba(255,255,255,${p.life/20})`;
            ctx.fillRect(p.x, p.y, 5, 5);
            if(p.life <= 0) particles.splice(i, 1);
        });

        ball.x += ball.dx; ball.y += ball.dy;

        if(ball.x < 0 || ball.x > canvas.width) ball.dx *= -1;
        if(ball.y < 0) ball.dy *= -1;

        // Hit Paddle
        if(ball.y > canvas.height - 80 && ball.x > paddle.x && ball.x < paddle.x + paddle.w) {
            ball.dy = -Math.abs(ball.dy) * 1.05; 
            ball.dx *= 1.02;
            score += 10 + (combo * 5);
            combo++;
            shake = 15;
            createParticles(ball.x, ball.y);
            scoreEl.innerText = score;
            const f = ["ðŸ‹","ðŸ‰","ðŸ‡","ðŸ“","ðŸ«"];
            ball.e = f[Math.floor(Math.random()*f.length)];
            
            if(combo > 1) {
                comboEl.style.display = "block";
                comboEl.innerText = "COMBO x" + combo;
            }
        }

        if(ball.y > canvas.height) {
            combo = 0;
            comboEl.style.display = "none";
            ball.y = 200; ball.dy = 5; ball.dx = 5; // Reset ball
        }

        ctx.restore();
        requestAnimationFrame(update);
    }
    update();
</script>
</body>
</html>
